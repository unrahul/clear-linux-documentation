

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-61272224-1", {"cookieDomain":"auto","allowLinker":true});ga("require", "linker");ga("linker:autoLink", [/(community\.|www\.|^)clearlinux\.org/gi], true);ga("set", "anonymizeIp", true);ga("send", "pageview");</script>


  <title>AI Inference with the Deep Learning Reference Stack &mdash; Documentation for Clear Linux* project</title>
  



  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="docs.01.org/clearlinux/guides/stacks/dlrs-inference.html"/>
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Enable AWS Greengrass* and OpenVINO™ toolkit" href="greengrass.html" />
    <link rel="prev" title="Deep Learning Reference Stack" href="dlrs.html" />

<link rel="stylesheet" href="../../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #007ab2" >
          

          
            <a href="../../index.html" class="icon icon-home"> Clear Linux* Project Docs
          

          
            
            <img src="../../_static/clearlinux.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" id="clear-docs-search" placeholder="Search documentation" results="0"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Clear Linux</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Language Versions</dt>
        
          <dd><a href="/clearlinux/latest/guides/stacks/dlrs-inference.html">English</a></dd>
        
          <dd><a href="/clearlinux/latest/zh_CN/guides/stacks/dlrs-inference.html">简体中文 (Simplified Chinese)</a></dd>
        
      </dl>
      <dl>
        <dt>Document Versions</dt>
        
          <dd><a href="/clearlinux/latest/guides/stacks/dlrs-inference.html">latest</a></dd>
        
          <dd><a href="/clearlinux/latest/guides/stacks/dlrs-inference.html">Future versions</a></dd>
        
      </dl>
      <dl>
        <dt>clearlinux.org links</dt>
          <dd>
            <a href="https://www.clearlinux.org/">Project Home</a>
          </dd>
          <dd>
            <a href="https://github.com/clearlinux/clear-linux-documentation">GitHub</a>
          </dd>
      </dl>
    </div>
  </div>
  
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/index.html#pre-install">Pre-install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/compatibility-check.html">Check processor and EFI firmware compatibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/compatibility-check.html#check-compatibility">Check compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/bootable-usb.html">Create a bootable USB drive using Etcher*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bootable-usb.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/index.html#install">Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html">Install Clear Linux* OS from the live desktop</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#system-requirements">System requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#preliminary-steps">Preliminary steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#install-from-live-image">Install from live image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#minimum-installation-requirements">Minimum installation requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#cl-desktop-installer">Clear Linux OS Desktop Installer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#navigation">Navigation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#required-options">Required options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#advanced-options">Advanced options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#finish-installation">Finish installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/bare-metal-install-server.html">Install Clear Linux* OS from the live server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#system-requirements">System requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#download-the-latest-cl-live-server-image">Download the latest Clear Linux OS live server image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#install-cl-on-your-target-system">Install Clear Linux OS on your target system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#launch-the-cl-installer">Launch the Clear Linux OS Installer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#minimum-installation-requirements">Minimum installation requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#main-menu">Main Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#navigation">Navigation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#required-options">Required options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#recommended-options">Recommended options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#advanced-options">Advanced options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#finish-installation">Finish installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/bare-metal-install-server.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/install-configfile.html">Install using clr-installer and a configuration file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/install-configfile.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/install-configfile.html#download-and-make-bootable-usb-of-the-live-server-image">Download and make bootable USB of the live server image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/install-configfile.html#example-1-fresh-installation-onto-bare-metal">Example 1: Fresh installation onto bare metal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/install-configfile.html#example-2-replicate-a-previous-installation">Example 2: Replicate a previous installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/install-configfile.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/ipxe-install.html">Install Clear Linux OS Over the Network with iPXE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#install-cl-on-server">Install Clear Linux OS on server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#setup-nginx-web-server-to-host-ipxe">Setup nginx web server to host iPXE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#configure-ipxe">Configure iPXE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#add-clr-installer-yaml-configuration-files">Add clr-installer YAML configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#configure-network">Configure network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#setup-nat">Setup NAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#setup-dnsmaq-for-dhcp-dns-and-tftp-functionalities">Setup dnsmaq for DHCP, DNS, and TFTP functionalities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#verify-setup">Verify setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/ipxe-install.html#deploy">Deploy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/index.html#install-in-a-virtual-machine">Install in a virtual machine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html">Clear Linux* OS on Microsoft Hyper-V*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html#download-the-cl-disk-image-for-hyper-v">Download the Clear Linux OS disk image for Hyper-V</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html#create-and-configure-new-vm">Create and configure new VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html#start-the-vm">Start the VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/hyper-v.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/kvm.html">Clear Linux* OS on KVM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/kvm.html#install-qemu-kvm">Install QEMU-KVM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/kvm.html#download-and-launch-the-virtual-machine-image">Download and launch the virtual machine image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/kvm.html#optional-enable-ssh-access">Optional: Enable SSH access</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/kvm.html#optional-install-a-graphical-user-interface-gui">Optional: Install a graphical user interface (GUI)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/parallels.html">Clear Linux* OS on Parallels* Desktop for Mac*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/parallels.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/parallels.html#download-iso-image">Download ISO image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/parallels.html#initialize-new-vm">Initialize new VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/parallels.html#install-cl-on-vm">Install Clear Linux OS on VM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/proxmox.html">Clear Linux* OS on Proxmox* Virtual Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/proxmox.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/proxmox.html#download-the-latest-cl-live-server-image">Download the Latest Clear Linux OS Live Server Image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/proxmox.html#upload-cl-live-server-image-to-promox-server">Upload Clear Linux OS Live Server Image to Promox Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/proxmox.html#create-vm-on-proxmox">Create VM on Proxmox</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/proxmox.html#start-vm-and-install-cl-on-promox">Start VM and Install Clear Linux OS on Promox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/virt-manager.html">Clear Linux* OS using virt-manager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virt-manager.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virt-manager.html#download-the-cl-installer-iso">Download the Clear Linux OS installer ISO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virt-manager.html#launch-and-set-up-virt-manager">Launch and set up virt-manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virt-manager.html#create-a-new-virt-manager-virtual-machine">Create a new virt-manager virtual machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virt-manager.html#install-cl-in-the-virt-manager-vm">Install Clear Linux OS in the virt-manager VM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/virtualbox-cl-installer.html">Clear Linux* OS on VirtualBox*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virtualbox-cl-installer.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virtualbox-cl-installer.html#download-and-extract-the-cl-installer-iso">Download and extract the Clear Linux OS installer ISO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virtualbox-cl-installer.html#create-a-new-vb-virtual-machine">Create a new VirtualBox virtual machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virtualbox-cl-installer.html#install-cl-on-the-vb-vm">Install Clear Linux OS on the VirtualBox VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/virtualbox-cl-installer.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html">Clear Linux* OS on VMware* Workstation Player</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html#install-the-vmware-workstation-player-hypervisor">Install the VMware Workstation Player hypervisor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html#create-a-blank-vm">Create a blank VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html#enable-uefi-boot-support">Enable UEFI boot support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html#instantiate-cl">Instantiate Clear Linux OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmw-player.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html">Clear Linux* OS on VMware* ESXi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#download-the-latest-cl-installer-iso">Download the latest Clear Linux OS installer ISO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#upload-the-cl-installer-iso-to-the-vmware-server">Upload the Clear Linux OS installer ISO to the VMware server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#create-and-configure-a-new-vm">Create and configure a new VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#install-cl-into-the-new-vm">Install Clear Linux OS into the new VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#reconfigure-the-vm-s-settings-to-boot-the-newly-installed-cl">Reconfigure the VM’s settings to boot the newly-installed Clear Linux OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/virtual-machine-install/vmware-esxi-install-cl.html#power-on-the-vm-and-boot-cl">Power on the VM and boot Clear Linux OS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/increase-virtual-disk-size.html">Increase Virtual Disk Size of an Image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/increase-virtual-disk-size.html#determine-disk-size-and-list-of-partitions">Determine disk size and list of partitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/increase-virtual-disk-size.html#id1">Increase virtual disk size</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/index.html#deploy-to-the-cloud">Deploy to the cloud</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html">Clear Linux* OS on Amazon Web Services*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html#locate-select-and-launch-the-cl-basic-ami">Locate, select, and launch the Clear Linux OS Basic AMI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html#connect-to-your-clear-linux-os-basic-instance">Connect to your Clear Linux OS basic instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html#update-the-cl-instance">Update the Clear Linux OS instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html#stop-the-cl-instance">Stop the Clear Linux OS instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/aws-web.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/cloud-install/azure.html">Clear Linux* OS on Microsoft* Azure*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#install-ms-azure-cli-2-0-on-cl">Install MS Azure CLI 2.0 on Clear Linux OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#log-into-your-microsoft-azure-account">Log into your Microsoft Azure account</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#create-a-ms-azure-resource-group">Create a MS Azure resource group</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#create-and-log-into-the-cl-virtual-machine">Create and log into the Clear Linux OS virtual machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#stop-and-deallocate-the-cl-vm-and-resources">Stop and deallocate the Clear Linux OS VM and resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#next-steps">Next steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/azure.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/cloud-install/digitalocean.html">Clear Linux* OS on DigitalOcean*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/digitalocean.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/digitalocean.html#add-cl-image-to-digitalocean">Add Clear Linux OS Image to DigitalOcean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/digitalocean.html#create-and-deploy-a-cl-instance">Create and Deploy a Clear Linux OS Instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/digitalocean.html#connect-to-your-cl-instance">Connect to Your Clear Linux OS Instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/digitalocean.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/cloud-install/gce.html">Clear Linux* OS on Google Cloud Platform*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/gce.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/gce.html#setup-cl-vm-on-gcp">Setup Clear Linux OS VM on GCP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/gce.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html">Import Clear Linux Image and Launch Instance on AWS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#download-or-create-a-cl-image-for-aws">Download or create a Clear Linux OS image for AWS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#create-an-s3-bucket">Create an S3 bucket</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#upload-the-cl-image-into-the-bucket">Upload the Clear Linux OS image into the bucket</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#add-a-user-to-iam-with-aws-cli-privilege">Add a user to IAM with AWS_CLI privilege</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#install-and-configure-the-aws-cli-tool-on-your-system">Install and configure the AWS CLI tool on your system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#import-a-snapshot-of-the-cl-image">Import a snapshot of the Clear Linux OS image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#create-an-ami-from-the-snapshot">Create an AMI from the snapshot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#launch-an-instance">Launch an instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#connect-to-your-cl-instance">Connect to your Clear Linux OS instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/import-clr-aws.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html">Clear Linux* OS on QingCloud*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html#select-and-start-cl-virtual-host-with-qingcloud-console">Select and start Clear Linux OS virtual host with QingCloud console</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html#apply-for-a-public-ip-and-add-it-to-the-virtual-host">Apply for a public IP and add it to the virtual host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html#connect-to-cl-virtual-host">Connect to Clear Linux OS virtual host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html#remove-cl-virtual-host">Remove Clear Linux OS virtual host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/cloud-install/qingcloud.html#delete-the-applied-public-ip">Delete the applied public IP</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/index.html#containers">Containers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../get-started/containers/container-images.html">Clear Linux* OS container images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../get-started/containers/container-images.html#container-image-types">Container image types</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#release-cadence">Release Cadence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#updates">Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#ease-of-use">Ease of Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#custom-derivatives">Custom Derivatives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../about.html#create">Create</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../about.html#deploy">Deploy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../about.html#administrate">Administrate</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#clear-linux">Clear Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../clear/autoproxy.html">Autoproxy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/autoproxy.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autoproxy.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autoproxy.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/autospec.html">autospec</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/autospec.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autospec.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autospec.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autospec.html#test-packaged-software">Test packaged software</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autospec.html#references">References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/autospec.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/bundles.html">Bundles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/bundles.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/compatible-kernels.html">Kernels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/compatible-kernels.html#bare-metal-only">Bare metal only</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/compatible-kernels.html#also-compatible-with-vms">Also compatible with VMs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/compatible-kernels.html#vm-only">VM only</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/debug.html">Debug system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/debug.html#background">Background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/debug.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/debug.html#implementation">Implementation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/mixer.html">mixer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/mixer.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/mixer.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/mixer.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/mixer.html#references">References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/mixer.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/security.html">OS Security</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/security.html#security-in-updates">Security in updates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/security.html#security-in-software">Security in software</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/security.html#security-in-system-design">Security in system design</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/stateless.html">Stateless</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/stateless.html#file-level-separation">File-level separation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/stateless.html#software-configuration">Software configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/stateless.html#system-reset">System reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/stateless.html#additional-information">Additional information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/swupd.html">swupd</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd.html#quick-reference">Quick reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/swupd-3rd-party.html">swupd 3rd-party</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#prerequisite">Prerequisite</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#create-directory-to-hold-3rd-party-app">Create directory to hold 3rd-party app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#create-bundle-of-3rd-party-app-with-mixer">Create bundle of 3rd-party app with mixer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#install-and-manage-3rd-party-bundle-on-client-system">Install and manage 3rd-party bundle on client system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#create-more-bundles-and-add-to-client">Create more bundles and add to client</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#some-limitations-of-3rd-party-bundles">Some limitations of 3rd-party bundles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/swupd-3rd-party.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clear/telemetrics.html">Telemetrics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clear/telemetrics.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/telemetrics.html#how-to-use">How to use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/telemetrics.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clear/telemetrics.html#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#maintenance">Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/architect-lifecycle.html">Architect the life-cycle of Clear Linux* OS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/architect-lifecycle.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/architect-lifecycle.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/architect-lifecycle.html#content-workflow">Content Workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/architect-lifecycle.html#release-workflow">Release Workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/architect-lifecycle.html#implementation">Implementation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/configure-hugepages.html">Configure Huge Pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/container-image-modify.html">Modify a Clear Linux OS-based container image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#example-1-add-a-bundle">Example 1: Add a bundle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#example-2-change-cl-version-single-stage-build">Example 2: Change Clear Linux OS version (single-stage build)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#example-3-change-cl-version-multi-stage-build">Example 3: Change Clear Linux OS version (multi-stage build)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#example-4-customize-an-application-image-at-runtime">Example 4: Customize an application image at runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#background">Background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-modify.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/container-image-new.html">Build a new Clear Linux OS-based container image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-new.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-new.html#build-the-base-container-image">Build the base container image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/container-image-new.html#manage-bundles-in-a-container">Manage bundles in a container</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/cpu-performance.html">CPU Power and Performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/cpu-performance.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/cpu-performance.html#cpu-power-saving-mechanisms">CPU power saving mechanisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/cpu-performance.html#linux-cpu-clock-frequency-scaling">Linux CPU clock frequency scaling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/cpu-performance.html#thermal-management">Thermal management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/deploy-at-scale.html">Deploy at Scale</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/deploy-at-scale.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/deploy-at-scale.html#pick-a-usage-and-update-strategy">Pick a usage and update strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/deploy-at-scale.html#pick-an-image-distribution-strategy">Pick an image distribution strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/deploy-at-scale.html#considerations-with-stateless-systems">Considerations with stateless systems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/developer-workstation.html">Developer Workstation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/developer-workstation.html#workstation-setup">Workstation Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/developer-workstation.html#swupd-search">swupd search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/developer-workstation.html#core-concepts">Core Concepts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/download-verify-decompress.html">Download, verify, and decompress a Clear Linux* OS image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/download-verify-decompress.html#linux-os-steps">Linux OS steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/download-verify-decompress.html#macos-steps">macOS* steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/download-verify-decompress.html#windows-os-steps">Windows* OS steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/download-verify-decompress.html#image-types">Image types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/enable-systemd-boot-menu.html">Enable systemd-boot Menu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/enable-user-space.html">Create and enable a new user space</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/enable-user-space.html#create-a-new-user">Create a new user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/enable-user-space.html#add-the-new-user-to-the-wheel-group">Add the new user to the <em>wheel</em> group</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/enable-user-space.html#install-and-update-the-os-software-to-its-current-version">Install and update the OS software to its current version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/enable-user-space.html#add-a-bundle">Add a bundle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/enable-user-space.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/fix-broken-install.html">Fix a broken installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/fix-broken-install.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/fix-broken-install.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/fix-broken-install.html#boot-a-live-desktop-image-to-fix-target-system">Boot a live desktop image to fix target system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/fix-broken-install.html#mount-root-partition-verify-and-fix">Mount root partition, verify, and fix</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/hostname.html">Modify hostname</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/hostname.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/hostname.html#set-your-hostname">Set your hostname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/hostname.html#view-your-hostname">View your hostname</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/increase-virtual-disk-size.html">Increase Virtual Disk Size of an Image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/increase-virtual-disk-size.html#determine-disk-size-and-list-of-partitions">Determine disk size and list of partitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/increase-virtual-disk-size.html#id1">Increase virtual disk size</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/query-upstream.html">Query package info from upstream repository</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/query-upstream.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/query-upstream.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/query-upstream.html#configure-dnf">Configure DNF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/query-upstream.html#dnf-command-usage-examples">DNF command usage examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/resource-limits.html">Resource limits</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/resource-limits.html#system-wide-limits">System-wide limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/resource-limits.html#per-user-limits">Per-user limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/resource-limits.html#service-limits">Service limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/restart.html">Restart system services after an OS update</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#basic-options">Basic options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#monitor-options">Monitor options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#telemetry">Telemetry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/restart.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/validate-signatures.html">Validate signatures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/validate-signatures.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/validate-signatures.html#image-content-validation">Image content validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintenance/validate-signatures.html#update-content-validation">Update content validation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#network">Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../network/assign-static-ip.html">Assign a static IP address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../network/assign-static-ip.html#identify-which-program-is-managing-the-interface">Identify which program is managing the interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/assign-static-ip.html#using-networkmanager">Using NetworkManager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/assign-static-ip.html#using-systemd-networkd">Using systemd-networkd</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../network/dpdk.html">Use DPDK to send packets between platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#install-dpdk-and-build-l3fwd-example-platform-b">Install dpdk and build l3fwd example (Platform B)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#build-pktgen-platform-a">Build pktgen (Platform A)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#bind-nics-to-dpdk-kernel-drivers-platforms-a-and-b">Bind NICs to DPDK kernel drivers (Platforms A and B)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#set-hugepages-platforms-a-and-b">Set hugepages (Platforms A and B)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#set-up-the-physical-environment-platforms-a-and-b">Set up the physical environment (Platforms A and B)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#run-l3fwd-application-platform-b">Run l3fwd application (Platform B)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#run-pktgen-application-platform-a">Run pktgen application (Platform A)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/dpdk.html#appendix-a-use-pass-through-for-virtual-machines">Appendix A: Use pass-through for virtual machines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../network/firewall.html">Firewall</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../network/firewall.html#default-ruleset">Default ruleset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/firewall.html#firewall-software">Firewall software</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/firewall.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../network/network-bonding.html">Combine multiple interfaces with network bonding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/openssh-server.html">Enable and configure SSH service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../network/openssh-server.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/openssh-server.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/openssh-server.html#change-default-port">Change default port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/openssh-server.html#enable-sftp">Enable SFTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/openssh-server.html#enable-root-login">Enable root login</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/openssh-server.html#enable-x11-forwarding">Enable X11-forwarding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../network/time.html">Set system time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network/vnc.html">Remote-desktop to a host using VNC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../network/vnc.html#install-the-vnc-server-and-misc-components-on-your-host">Install the VNC server and misc. components on your host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/vnc.html#configure-a-vnc-server-start-method-on-your-host">Configure a VNC-server-start method on your host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/vnc.html#install-a-vnc-viewer-app-and-an-ssh-client-on-your-client-system">Install a VNC viewer app and an SSH client on your client system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/vnc.html#establish-a-vnc-connection-to-your-host">Establish a VNC connection to your host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/vnc.html#terminate-a-vnc-connection-to-your-host">Terminate a VNC connection to your host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/vnc.html#encrypt-vnc-traffic-through-an-ssh-tunnel">Encrypt VNC traffic through an SSH tunnel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../network/wifi.html">Configure Wi-Fi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../network/wifi.html#using-network-manager">Using Network Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/wifi.html#using-wpa-supplicant">Using wpa_supplicant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../network/wifi.html#other-resources">Other resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#kernel">Kernel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../kernel/firmware.html">Firmware</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../kernel/firmware.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/firmware.html#included-firmware">Included firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/firmware.html#additional-firmware-loading">Additional firmware loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/firmware.html#cpu-microcode-loading">CPU microcode loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/firmware.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../kernel/kernel-development.html">Kernel development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-development.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-development.html#request-changes-be-included-with-the-cl-kernel">Request changes be included with the Clear Linux OS kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-development.html#set-up-kernel-development-environment">Set up kernel development environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-development.html#customize-the-linux-kernel-source">Customize the Linux kernel source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-development.html#build-and-install-the-kernel">Build and install the kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-development.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../kernel/kernel-modules.html">Add kernel modules manually</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules.html#kernel-module-availability">Kernel module availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules.html#build-install-and-load-an-out-of-tree-module">Build, install, and load an out-of-tree module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules.html#related-topic">Related topic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../kernel/kernel-modules-dkms.html">Add kernel modules with DKMS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#kernel-module-availability">Kernel module availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#install-dkms">Install DKMS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#build-install-and-load-an-out-of-tree-module">Build, install, and load an out-of-tree module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kernel/kernel-modules-dkms.html#related-topics">Related topics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#stacks">Stacks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dars.html">Data Analytics Reference Stack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dars.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="dars.html#using-the-docker-images">Using the Docker images</a></li>
<li class="toctree-l4"><a class="reference internal" href="dars.html#using-apache-spark-in-dars">Using Apache Spark* in DARS</a></li>
<li class="toctree-l4"><a class="reference internal" href="dars.html#using-apache-hadoop-in-dars">Using Apache Hadoop in DARS</a></li>
<li class="toctree-l4"><a class="reference internal" href="dars.html#deploy-dars-on-kubernetes">Deploy DARS on Kubernetes*</a></li>
<li class="toctree-l4"><a class="reference internal" href="dars.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dbrs.html">Database Reference Stack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#releases">Releases</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#hardware-requirements">Hardware Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#firmware-configuration">Firmware configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#hardware-configuration">Hardware Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#running-dbrs-with-apache-cassandra">Running DBRS with Apache Cassandra*</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#deploy-an-apache-cassandra-pmem-cluster-on-kubernetes">Deploy An Apache Cassandra-PMEM cluster on Kubernetes*</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#running-dbrs-with-redis">Running DBRS with Redis</a></li>
<li class="toctree-l4"><a class="reference internal" href="dbrs.html#running-dbrs-with-memcached">Running DBRS with Memcached</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dlrs.html">Deep Learning Reference Stack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#releases">Releases</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#tensorflow-single-and-multi-node-benchmarks">TensorFlow single and multi-node benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#pytorch-single-and-multi-node-benchmarks">PyTorch single and multi-node benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#tensorflow-training-tfjob-with-kubeflow-and-dlrs">TensorFlow Training (TFJob) with Kubeflow and DLRS</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#pytorch-training-pytorch-job-with-kubeflow-and-dlrs">PyTorch Training (PyTorch Job) with Kubeflow and DLRS</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#working-with-horovod-and-openmpi">Working with Horovod* and OpenMPI*</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#using-transformers-for-natural-language-processing">Using Transformers* for Natural Language Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#using-the-intel-openvino-model-optimizer">Using the Intel® OpenVINO Model Optimizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#using-the-openvino-inference-engine">Using the OpenVino Inference Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#using-seldon-and-openvino-model-server-with-the-deep-learning-reference-stack">Using Seldon and OpenVINO* model server with the Deep Learning Reference Stack</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#use-jupyter-notebook">Use Jupyter Notebook</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#uninstallation">Uninstallation</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#compiling-aixprt-with-openmp-on-dlrs">Compiling AIXPRT with OpenMP on DLRS</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlrs.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">AI Inference with the Deep Learning Reference Stack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#infrastructure-set-up">Infrastructure Set-Up</a></li>
<li class="toctree-l4"><a class="reference internal" href="#benchmarking">Benchmarking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="greengrass.html">Enable AWS Greengrass* and OpenVINO™ toolkit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#supported-platforms">Supported platforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#install-the-os-on-the-edge-device">Install the OS on the edge device</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#configure-aws-greengrass-group">Configure AWS Greengrass group</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#create-and-package-lambda-function">Create and package Lambda function</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#configure-lambda-function">Configure Lambda function</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#deploy-lambda-function">Deploy Lambda function</a></li>
<li class="toctree-l4"><a class="reference internal" href="greengrass.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mers.html">Media Reference Stack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mers.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="mers.html#getting-the-pre-built-mers-container-image">Getting the pre-built <abbr title="Media Reference Stack">MeRS</abbr> container image</a></li>
<li class="toctree-l4"><a class="reference internal" href="mers.html#building-the-mers-container-image-from-source">Building the <abbr title="Media Reference Stack">MeRS</abbr> container image from source</a></li>
<li class="toctree-l4"><a class="reference internal" href="mers.html#using-the-mers-container-image">Using the <abbr title="Media Reference Stack">MeRS</abbr> container image</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/apache-hadoop.html">Apache* Hadoop*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#install-apache-hadoop">Install Apache Hadoop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#configure-apache-hadoop">Configure Apache Hadoop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#configure-your-ssh-key">Configure your SSH key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#run-the-hadoop-daemons">Run the Hadoop daemons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-hadoop.html#run-the-mapreduce-wordcount-example">Run the MapReduce wordcount example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/apache-spark.html">Apache* Spark*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-spark.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-spark.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-spark.html#install-apache-spark">Install Apache Spark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-spark.html#configure-apache-spark">Configure Apache Spark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-spark.html#start-the-master-server-and-a-worker-daemon">Start the master server and a worker daemon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/apache-spark.html#run-the-spark-wordcount-example">Run the Spark wordcount example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/broadcom.html">Broadcom* Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/broadcom.html#identify-your-device-model">Identify your device model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/broadcom.html#drivers">Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/broadcom.html#brcmfmac-and-brcmsmac">brcmfmac and brcmsmac</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/broadcom.html#b43-and-b43legacy">b43 and b43legacy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/broadcom.html#broadcom-wl">broadcom-wl</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/broadcom.html#firmware">Firmware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/broadcom.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docker.html">Docker*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#install-the-containers-basic-bundle">Install the containers-basic bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#integration-with-kata-containers-optional">Integration with Kata Containers* (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#additional-docker-configuration">Additional Docker configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#pulling-and-running-an-image-from-docker-hub">Pulling and running an image from Docker Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#creating-a-docker-swarm-cluster">Creating a Docker swarm cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docker.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/flatpak.html">Flatpak*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/flatpak.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/flatpak.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/flatpak.html#install-a-flatpak-app-with-gnome-software">Install a Flatpak app with Gnome Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/flatpak.html#install-a-flatpak-with-the-command-line">Install a Flatpak with the command line</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/fmv.html">Function Multi-Versioning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/fmv.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/fmv.html#install-and-configure-a-cl-host-on-bare-metal">Install and configure a Clear Linux OS host on bare metal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/fmv.html#detect-loop-vectorization-candidates">Detect loop vectorization candidates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/fmv.html#generate-the-fmv-patch">Generate the FMV patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/fmv.html#fft-project-example-using-fftw">FFT project example using FFTW</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/kata.html">Kata Containers*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kata.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kata.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kata.html#install-kata-containers">Install Kata Containers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kata.html#run-kata-containers">Run Kata Containers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/kata.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/kubernetes.html">Kubernetes*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#install-kubernetes-and-cri-runtimes">Install Kubernetes and CRI runtimes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#configure-kubernetes">Configure Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#configure-and-run-kubernetes">Configure and run Kubernetes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/kubernetes.html#configure-and-run-cri-o-kata-runtime">Configure and run CRI-O + kata-runtime</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#install-pod-network-add-on">Install pod network add-on</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#use-your-cluster">Use your cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#related-topics">Related topics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#cloud-native-setup-automation">Cloud native setup automation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#package-configuration-customization-optional">Package configuration customization (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#proxy-configuration-optional">Proxy configuration (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/kubernetes-bp.html">Kubernetes* Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes-bp.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes-bp.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes-bp.html#update-the-control-plane">Update the control plane</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/kubernetes-bp.html#update-worker-nodes">Update worker nodes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/nvidia.html">NVIDIA* Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia.html#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#configure-workarounds">Configure workarounds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#install-dkms">Install DKMS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#download-the-nvidia-drivers">Download the NVIDIA drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#disable-the-nouveau-driver">Disable the nouveau driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#configure-alternative-software-paths">Configure alternative software paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#install-the-nvidia-drivers">Install the NVIDIA drivers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia.html#updating">Updating</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia.html#uninstallation">Uninstallation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#no-display-or-blank-screen">No display or blank screen</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#oh-no-something-has-gone-wrong-gnome-crash">“Oh no! Something has gone wrong” GNOME crash</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#brightness-control">Brightness control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia.html#additional-resources">Additional resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/nvidia-cuda.html">NVIDIA* CUDA Toolkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#compatibility">Compatibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#check-compatibility-of-nvidia-components">Check compatibility of NVIDIA components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#check-gcc-compatibility">Check GCC compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#downloading-and-installation">Downloading and Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#download-the-nvidia-cuda-toolkit">Download the NVIDIA CUDA Toolkit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#install-the-nvidia-cuda-toolkit">Install the NVIDIA CUDA Toolkit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#using-the-nvidia-cuda-toolkit">Using the NVIDIA CUDA Toolkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#uninstalling">Uninstalling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#debugging">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/nvidia-cuda.html#additional-resources">Additional resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/openfaas.html">OpenFaaS*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openfaas.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openfaas.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openfaas.html#deploy-openfaas">Deploy OpenFaaS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openfaas.html#openfaas-templates">OpenFaaS templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openfaas.html#example-develop-a-function">Example: Develop a function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/openvino.html">OpenVINO™ for Deep Learning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openvino.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openvino.html#install-openvino">Install OpenVINO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openvino.html#run-openvino-sample-application">Run OpenVINO sample application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/openvino.html#use-model-to-test">Use model to test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/openvino.html#convert-model-to-ir-format">Convert model to IR format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/openvino.html#run-image-classification">Run image classification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/openvino.html#run-benchmark-app">Run benchmark_app</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/php.html">PHP and PHP-FPM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#configure-php">Configure PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#install-php-extensions">Install PHP extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#enable-php-extensions">Enable PHP extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/php.html#configure-php-fpm">Configure PHP-FPM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/proxy.html">Proxy configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/proxy.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/proxy.html#shells-and-programs-in-a-desktop-session">Shells and programs in a desktop session</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/proxy.html#terminal">Terminal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/proxy.html#wget">wget</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/proxy.html#system-service-docker">System service (Docker*)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/proxy.html#git-over-ssh">git over ssh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/redis.html">Redis*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#install-the-redis-bundle">Install the Redis bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#start-the-redis-server">Start the Redis-server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#example-1-use-the-redis-cli-and-commands">Example 1: Use the redis-cli and commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#example-2-run-the-cl-redis-docker-image">Example 2: Run the Clear Linux OS Redis Docker* image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/redis.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/smb.html">Samba* as a host</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/smb.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/smb.html#set-up-file-sharing">Set up file sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/smb.html#map-cl-drive-in-windows">Map Clear Linux OS drive in Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/smb-desktop.html">Samba* as a client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/smb-desktop.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/smb-desktop.html#connect-to-windows-shared-location-with-nautilus">Connect to Windows shared location with Nautilus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tensorflow-machine-learning.html">TensorFlow* machine learning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/tensorflow-machine-learning.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/tensorflow-machine-learning.html#set-up-a-jupyter-notebook">Set up a Jupyter Notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/tensorflow-machine-learning.html#run-the-jupyter-machine-learning-example-code">Run the Jupyter machine learning example code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/tensorflow-machine-learning.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/vmware-workstation.html">VMware* Workstation Pro</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/vmware-workstation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/vmware-workstation.html#install-vmware-workstation-pro">Install VMware Workstation Pro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/vmware-workstation.html#install-vmware-kernel-modules">Install VMware kernel modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/vmware-workstation.html#install-dkms">Install DKMS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/vmware-workstation.html#install-kernel-modules">Install kernel modules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/vmware-workstation.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/wordpress.html">WordPress*</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html">Set up a LAMP web server on Clear Linux* OS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#install-apache">Install Apache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#change-the-default-configuration-and-data-directory">Change the default configuration and data directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#install-php">Install PHP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#install-mariadb">Install MariaDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#install-phpmyadmin">Install phpMyAdmin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#use-phpmyadmin-to-manage-a-database">Use phpMyAdmin to manage a database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/web-server-install.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/wordpress/wp-install.html">Set up WordPress* on a LAMP web server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/wp-install.html#before-you-begin">Before you begin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/wordpress/wp-install.html#create-a-wordpress-server">Create a WordPress server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/yubikey-u2f.html">YubiKey* Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/yubikey-u2f.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/yubikey-u2f.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/yubikey-u2f.html#enable-linux-udev-rules-for-yubikey">Enable Linux udev rules for YubiKey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/yubikey-u2f.html#enable-u2f-in-mozilla-firefox">Enable U2F in Mozilla Firefox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/yubikey-u2f.html#related-topics">Related topics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html">Dual-boot Clear Linux* OS with Any GRUB-based Linux* Distro</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html#preliminary-steps">Preliminary steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html#install-cl-with-advanced-installation">Install Clear Linux OS with Advanced Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html#boot-cl-using-one-of-three-methods">Boot Clear Linux OS Using One of Three Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html#method-1-use-systemd-boot-to-boot-cl-and-also-chain-boot-grub">Method 1: Use systemd-boot to Boot Clear Linux OS and also Chain-boot GRUB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html#method-2-use-grub-to-boot-cl">Method 2: Use GRUB to Boot Clear Linux OS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html">Dual-boot Clear Linux* OS and Windows* 10 OS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html#method-1-shrink-windows-partition-and-install-cl">Method 1: Shrink Windows partition and install Clear Linux OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html#method-2-add-another-hard-disk-to-your-system-where-you-installed-windows">Method 2: Add another hard disk to your system where you installed Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html#advanced-use-systemd-boot-to-boot-windows-10-os-and-cl">Advanced: Use systemd-boot to boot Windows 10 OS and Clear Linux OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html#alternative-install-windows-10-os-after-cl">Alternative: Install Windows 10 OS After Clear Linux OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html#install-windows-10-os">Install Windows 10 OS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/multi-boot/multi-boot.html">Multi-boot Clear Linux* OS with other operating systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/multi-boot/multi-boot.html#detailed-procedures">Detailed procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-win.html">Dual-boot Clear Linux* OS and Windows* 10 OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/multi-boot/dual-boot-linux.html">Dual-boot Clear Linux* OS with Any GRUB-based Linux* Distro</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html#archive">Archive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/archive/kata_migration.html">Migrate Clear Containers to Kata Containers*</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/archive/kata_migration.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/archive/kata_migration.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/archive/kata_migration.html#stop-clear-containers-instances">Stop Clear Containers instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/archive/kata_migration.html#manually-migrate-customized-configuration-files">Manually migrate customized configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/archive/kata_migration.html#enable-kata-containers-as-default">Enable Kata Containers as default</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/archive/kata_migration.html#run-kata-containers">Run Kata Containers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/compatible-hardware.html">Compatible Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/bundles/bundles.html">Available bundles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/bundles/bundles.html#bundle-list">Bundle list</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/system-requirements.html">Recommended minimum system requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/system-requirements.html#installer-requirements">Installer requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/system-requirements.html#id1">System requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/system-requirements.html#recommended-configurations">Recommended configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/image-types.html">Clear Linux* OS image types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../FAQ/index.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../FAQ/index.html#general">General</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#what-is-cl">What is Clear Linux OS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#why-another-linux-distribution">Why another Linux distribution?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#is-it-a-derivative-of-another-linux-distribution">Is it a derivative of another Linux distribution?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#can-others-copy-improvements-from-cl">Can others copy improvements from Clear Linux OS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#how-often-does-it-update">How often does it update?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#is-telemetry-required">Is telemetry required?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#what-is-the-default-firewall">What is the default firewall?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#where-are-the-files-that-i-usually-see-under-etc-like-fstab">Where are the files that I usually see under /etc like fstab?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#does-it-use-the-intel-compiler-icc">Does it use the Intel Compiler (icc)?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../FAQ/index.html#software">Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#how-is-software-installed-and-updated">How is software installed and updated?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#does-it-use-rpms-or-debs-packages-like-other-distros">Does it use RPMs or DEBs packages like other distros?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#why-does-it-have-a-different-approach-to-software-management">Why does it have a different approach to software management?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#can-i-install-a-software-package-from-another-os-on-cl">Can I install a software package from another OS on Clear Linux OS?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../FAQ/index.html#software-availability">Software availability</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#what-software-is-available-on-cl">What software is available on Clear Linux OS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#is-google-chrome-available">Is Google* Chrome* available?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#is-microsoft-visual-studio-code-available">Is Microsoft* Visual Studio Code* available?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#is-ffmpeg-available">Is FFmpeg available?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#is-zfs-available">Is ZFS* available?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FAQ/index.html#can-you-add-a-driver-that-i-need">Can you add a driver that I need?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../collaboration/collaboration.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../collaboration/collaboration.html#contribute-via-github">Contribute via GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collaboration/collaboration.html#contribution-guidelines">Contribution guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../collaboration/writing-guide.html">Writing guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/writing-guide.html#use-simple-english">Use simple English</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/writing-guide.html#make-content-scannable">Make content scannable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/writing-guide.html#use-strong-verbs">Use strong verbs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/writing-guide.html#avoid-long-noun-phrases">Avoid long noun phrases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/writing-guide.html#parallelism">Parallelism</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/writing-guide.html#grammar-and-punctuation">Grammar and punctuation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../collaboration/structure-formatting.html">Structure and formatting guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#markup">Markup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#documentation-organization">Documentation organization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#inline-text-formatting">Inline text formatting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#code-blocks-and-examples">Code blocks and examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#lists-and-instructions">Lists and instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#notices">Notices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#links">Links</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/structure-formatting.html#images">Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../collaboration/collaboration.html#references">References</a></li>
</ul>
</li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Clear Linux* Project Docs</a>
        
      </nav>


      <div class="wy-nav-content">

<header id="header">
  <div class="padding-md--left-right">

    <div class="header__site_info">
           <div class="header__site_info_name">
           </div>
    </div>
    <nav class="header__menu">
        <ul class="header__menu_list">
              <li class="header__menu_list_item yellow  ">
                <a tabindex='1' href="https://clearlinux.org">Home</a>
              </li>
              <li class="header__menu_list_item green  ">
                <a tabindex='1' href="https://clearlinux.org/about">About</a>
              </li>
              <li class="header__menu_list_item purple  ">
                <a tabindex='1' href="https://clearlinux.org/developer">Developer</a>
              </li>
              <li class="header__menu_list_item blue  ">
                <a tabindex='1' href="https://clearlinux.org/software">Software</a>
              </li>
        </ul>
    </nav>

  </div>

</header>


        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Guides</a> &raquo;</li>
        
      <li>AI Inference with the Deep Learning Reference Stack</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/clearlinux/clear-linux-documentation/blob/master/source/guides/stacks/dlrs-inference.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ai-inference-with-the-deep-learning-reference-stack">
<span id="dlrs-inference"></span><h1>AI Inference with the Deep Learning Reference Stack<a class="headerlink" href="#ai-inference-with-the-deep-learning-reference-stack" title="Permalink to this headline">¶</a></h1>
<p>In this guide walk through a solution for using the Deep Learning Reference Stack with a Seldon Core* platform deployed on Kubernetes*. Seldon Core simplifies deployment of the models we create and use with the Deep Learning Reference Stack. Use this guide to set up your infrastructure and deploy a benchmarking workload on your Kubernetes cluster.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id6">Overview</a></li>
<li><a class="reference internal" href="#prerequisites" id="id7">Prerequisites</a></li>
<li><a class="reference internal" href="#infrastructure-set-up" id="id8">Infrastructure Set-Up</a></li>
<li><a class="reference internal" href="#benchmarking" id="id9">Benchmarking</a></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id6">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="reference internal image-reference" href="../../_images/kubeflow-seldon-dlrs-example-diagram.png"><img alt="Example diagram with DLRS deployed by Seldon" src="../../_images/kubeflow-seldon-dlrs-example-diagram.png" style="width: 800px;" /></a>
</div>
<p>The solution covered here requires the following software components:</p>
<ul class="simple">
<li><a class="reference external" href="https://clearlinux.org/stacks/deep-learning">Deep Learning Reference Stack</a> which is a Clear Linux* OS based Docker* container providing deep learning frameworks and is optimized for Intel Xeon Scalable platforms.</li>
<li><a class="reference external" href="https://www.kubeflow.org/">Kubeflow</a> is the machine learning toolkit for Kubernetes that helps with deployment of Seldon Core and Istio components.</li>
<li><a class="reference external" href="https://docs.seldon.io/projects/seldon-core/en/latest/">Seldon Core</a> is a software platform for deploying machine learning models. We use the DLRS container to serve the OpenVino* framework for inference with the Seldon Core.</li>
<li>The OpenVino Model Server is included in DLRS and provides the OpenVino framework for inference. From OpenVino, the <a class="reference external" href="https://software.intel.com/en-us/openvino-toolkit">OpenVino Toolkit</a> provides improved neural network performance on a variety of Intel processors. For this guide, we converted pre-trained Caffe models into the <a class="reference external" href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_prepare_model_convert_model_Converting_Model.html">Intermediate Representation(IR)</a> of ResNet50 with the OpenVino toolkit.</li>
<li><a class="reference external" href="https://istio.io/">Istio</a> is a traffic manager and performs the load balancing for service requests in the cluster.</li>
<li>Pre-processing container converts jpeg content into NumPy array</li>
<li>Post-processing container converts an array of classification probabilities to a human-readable class name.</li>
<li>Pre and post-processing containers are created using the <a class="reference external" href="https://github.com/openshift/source-to-image">Source-to-Image</a> (S2I)toolkit, which builds reproducible container images from source code/</li>
<li><a class="reference external" href="https://min.io/">Min.io</a> is used as the distributed object storage for models</li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id7">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Although this guide assumes a Clear Linux OS host system, it has also been validated with the following software components.</p>
<table border="1" class="colwidths-given docutils" id="id4">
<caption><span class="caption-text"><strong>Table 1. Software Component Versions</strong></span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Component</th>
<th class="head">Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DLRS</td>
<td>0.4.0</td>
</tr>
<tr class="row-odd"><td>Docker</td>
<td>18.09</td>
</tr>
<tr class="row-even"><td>Kubernetes</td>
<td>1.15.3</td>
</tr>
<tr class="row-odd"><td>Source-to-Image</td>
<td>1.1.14</td>
</tr>
<tr class="row-even"><td>Helm</td>
<td>2.14.3</td>
</tr>
<tr class="row-odd"><td>Kubeflow</td>
<td>0.6.1</td>
</tr>
<tr class="row-even"><td>Seldon</td>
<td>0.3.2</td>
</tr>
<tr class="row-odd"><td>Rook</td>
<td>1.0.5</td>
</tr>
<tr class="row-even"><td>Ceph</td>
<td>14.2.1-20190430</td>
</tr>
<tr class="row-odd"><td>Minio</td>
<td>RELEASE.2019-04-23T23-50-36Z</td>
</tr>
<tr class="row-even"><td>CentOS</td>
<td>7.6</td>
</tr>
<tr class="row-odd"><td>OpenVINO Toolkit</td>
<td>2019 R1.0.1</td>
</tr>
<tr class="row-even"><td>MKL-DNN</td>
<td>0.19</td>
</tr>
</tbody>
</table>
<div class="section" id="recommended-hardware">
<h3>Recommended Hardware<a class="headerlink" href="#recommended-hardware" title="Permalink to this headline">¶</a></h3>
<p>We validated this guide on an <a class="reference external" href="https://www.intel.com/content/www/us/en/design/products-and-solutions/processors-and-chipsets/cascade-lake/2nd-gen-intel-xeon-scalable-processors.html">Intel Cascade Lake</a> server and this is recommended to get optimal performance and take advantage of the built in  Intel® Deep Learning Boost functionality.</p>
</div>
<div class="section" id="required-software">
<h3>Required Software<a class="headerlink" href="#required-software" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first"><a class="reference internal" href="../../get-started/bare-metal-install-desktop.html#bare-metal-install-desktop"><span class="std std-ref">Install</span></a> Clear Linux OS on your host system</p>
</li>
<li><p class="first">Install the <strong class="command">containers-basic</strong> and <strong class="command">cloud-native-basic</strong> bundles:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo swupd bundle-add containers-basic cloud-native-basic
</pre></div>
</div>
</li>
<li><p class="first">Start Docker</p>
<p>Docker is not started upon installation of the <strong class="command">containers-basic</strong> bundle. To start Docker, enter:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl start docker
</pre></div>
</div>
</li>
<li><p class="first">Install and configure <a class="reference internal" href="../../tutorials/kubernetes.html#kubernetes"><span class="std std-ref">Kubernetes*</span></a>.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The Deep Learning Reference Stack was developed to provide the best user experience when executed on a Clear Linux OS host.  However, as the stack runs in a container environment, you should be able to complete the following sections of this guide on other Linux* distributions, provided they comply with the Docker* and Kubernetes*  package versions listed above. Look for your distribution documentation on how to update packages and manage Docker services.</p>
<p>For other systems, please install the following software</p>
<ul class="last simple">
<li><a class="reference external" href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/">Docker 18.09</a></li>
<li><a class="reference external" href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">Kubernetes 1.15.3</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="infrastructure-set-up">
<h2><a class="toc-backref" href="#id8">Infrastructure Set-Up</a><a class="headerlink" href="#infrastructure-set-up" title="Permalink to this headline">¶</a></h2>
<div class="section" id="environment">
<h3>Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h3>
<p>Throughout this guide we will refer to the DEPLOY_DIR environment variable.  DEPLOY_DIR is a pointer to the current directory with all resources used as the installation directory. Set it as follows</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">DEPLOY_DIR</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>
</pre></div>
</div>
</div>
<div class="section" id="deployment-tools">
<h3>Deployment Tools<a class="headerlink" href="#deployment-tools" title="Permalink to this headline">¶</a></h3>
<div class="section" id="source-to-image-s2i">
<h4>Source-to-Image (S2i)<a class="headerlink" href="#source-to-image-s2i" title="Permalink to this headline">¶</a></h4>
<p>S2i is a tool for building artifacts from source and injecting them into Docker images.  We use S2i to build the Imagenet transformer. Install it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://github.com/openshift/source-to-image/releases/download/v1.1.14/source-to-image-v1.1.14-874754de-linux-amd64.tar.gz
tar -zxvf source-to-image-v1.1.14-874754de-linux-amd64.tar.gz
mv -f -t /usr/local/bin/ sti s2i
rm -f source-to-image-v1.1.14-874754de-linux-amd64.tar.gz
chmod +x /usr/local/bin/sti
chmod +x /usr/local/bin/s2i
</pre></div>
</div>
</div>
<div class="section" id="kfctl">
<h4>kfctl<a class="headerlink" href="#kfctl" title="Permalink to this headline">¶</a></h4>
<p><cite>kfctl</cite> is a client used to control and deploy the Kubeflow platform.  Install with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://github.com/kubeflow/kubeflow/releases/download/v0.6.1/kfctl_v0.6.1_linux.tar.gz
tar -zxvf kfctl_v0.6.1_linux.tar.gz
rm -f kfctl_v0.6.1_linux.tar.gz
mv -f kfctl /usr/local/bin/
chmod +x /usr/local/bin/kfctl
</pre></div>
</div>
</div>
<div class="section" id="minio">
<h4>Minio<a class="headerlink" href="#minio" title="Permalink to this headline">¶</a></h4>
<p>The Minio client is compatible with object cloud storage services.  We use it to manage buckets and files stored in Minio storage. Install with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://dl.min.io/client/mc/release/linux-amd64/mc
mv mc /usr/local/bin/
chmod +x /usr/local/bin/mc
</pre></div>
</div>
</div>
<div class="section" id="helm">
<h4>Helm<a class="headerlink" href="#helm" title="Permalink to this headline">¶</a></h4>
<p>Helm is used to deploy components on Kubernetes clusters. Helm is included in the <code class="file docutils literal notranslate"><span class="pre">cloud-native-basic</span></code> bundle in Clear Linux OS and can be installed with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo swupd bundle-add cloud-native-basic
</pre></div>
</div>
<p>If you are not using a Clear Linux OS host, install with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget https://get.helm.sh/helm-v2.14.3-linux-amd64.tar.gz
tar -zxvf helm-v2.14.3-linux-amd64.tar.gz
rm -f helm-v2.14.3-linux-amd64.tar.gz
mv linux-amd64/helm /usr/local/bin/helm
</pre></div>
</div>
<p>Regardless of your host OS, initialize Helm as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>helm init
kubectl create serviceaccount --namespace kube-system tiller
kubectl create clusterrolebinding tiller-cluster-rule --clusterrole<span class="o">=</span>cluster-admin --serviceaccount<span class="o">=</span>kube-system:tiller
kubectl patch deploy --namespace kube-system tiller-deploy -p <span class="s1">&#39;{&quot;spec&quot;:{&quot;template&quot;:{&quot;spec&quot;:{&quot;serviceAccount&quot;:&quot;tiller&quot;}}}}&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="gsutil">
<h4>gsutil<a class="headerlink" href="#gsutil" title="Permalink to this headline">¶</a></h4>
<p><code class="file docutils literal notranslate"><span class="pre">gsutil</span></code> is a client utility to work with Google Cloud* storage.  Follow the instructions to install <a class="reference external" href="https://cloud.google.com/storage/docs/gsutil_install#linux">gsutil</a> . With the initialized Google Cloud storage command line interface, we will be able to download ResNet50 models, which we will use for model serving.</p>
</div>
<div class="section" id="rook">
<h4>Rook<a class="headerlink" href="#rook" title="Permalink to this headline">¶</a></h4>
<p>Rook.io is used to deploy Minio and Ceph.  Clone the GitHub* repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone -b release-1.0 https://github.com/rook/rook.git
</pre></div>
</div>
</div>
<div class="section" id="ai-inferencing">
<h4>AI Inferencing<a class="headerlink" href="#ai-inferencing" title="Permalink to this headline">¶</a></h4>
<p>This guide is based on the code in the IntelSolutionDev Ai Inferencing repository.  Clone the repository</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://&lt;need github URL&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="platform-backends">
<h3>Platform Backends<a class="headerlink" href="#platform-backends" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ceph">
<h4>Ceph<a class="headerlink" href="#ceph" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Deploy Ceph Rook Operator</p>
<p>The Rook Operator is used to deploy the remaining Rook Ceph components.  Deploy it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
<span class="nb">cd</span> rook/cluster/examples/kubernetes/ceph
kubectl create -f common.yaml
kubectl create -f operator.yaml
kubectl -n rook-ceph get pods <span class="c1"># wait for rook-ceph-operator pod</span>
</pre></div>
</div>
</li>
<li><p class="first">Deploy Rook Ceph Cluster</p>
<p>The Rook Ceph cluster is used for block storage for all platform components. You will need to modify the <code class="file docutils literal notranslate"><span class="pre">cluster.yaml</span></code> for your requirements. For this guide, we will prepare a cluster with 3 mons, and we will store data in <code class="file docutils literal notranslate"><span class="pre">/var/lib/rook</span></code> on all nodes.  Modify the file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ceph.rook.io/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CephCluster</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rook-ceph</span>
<span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rook-ceph</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="nt">cephVersion</span><span class="p">:</span>
 <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ceph/ceph:v14.2.1-20190430</span>
 <span class="nt">allowUnsupported</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">dataDirHostPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/rook</span>
<span class="nt">mon</span><span class="p">:</span>
 <span class="nt">count</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
 <span class="nt">allowMultiplePerNode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">dashboard</span><span class="p">:</span>
 <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">network</span><span class="p">:</span>
 <span class="nt">hostNetwork</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">rbdMirroring</span><span class="p">:</span>
 <span class="nt">workers</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">annotations</span><span class="p">:</span>
<span class="nt">resources</span><span class="p">:</span>
<span class="nt">storage</span><span class="p">:</span>
 <span class="nt">useAllNodes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
 <span class="nt">useAllDevices</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
 <span class="nt">deviceFilter</span><span class="p">:</span>
 <span class="nt">location</span><span class="p">:</span>
 <span class="nt">config</span><span class="p">:</span>
 <span class="nt">directories</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/rook</span>
</pre></div>
</div>
<p>After modifying the <code class="file docutils literal notranslate"><span class="pre">cluster.yaml</span></code>, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl create -f cluster.yaml
kubectl -n rook-ceph get pods <span class="c1">#wait for osd pods</span>
kubectl create -f toolbox.yaml
kubectl -n rook-ceph get pod -l <span class="s2">&quot;app=rook-ceph-tools&quot;</span>
kubectl create -f storageclass.yaml
kubectl patch storageclass rook-ceph-block -p <span class="s1">&#39;{&quot;metadata&quot;: {&quot;annotations&quot;:{&quot;storageclass.kubernetes.io/is-default-class&quot;:&quot;true&quot;}}}&#39;</span>
</pre></div>
</div>
<p>To verify the setup is correct, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl -n rook-ceph <span class="nb">exec</span> -it <span class="k">$(</span>kubectl -n rook-ceph get pod -l <span class="s2">&quot;app=rook-ceph-tools&quot;</span> -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].metadata.name}&#39;</span><span class="k">)</span> ceph status
</pre></div>
</div>
<p>The command should return:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">HEALTH_OK</span>
</pre></div>
</div>
</li>
<li><p class="first">Troubleshooting</p>
<p>If you see a warning related to undersized PGs you need to increase the number of PGs using these commands:</p>
<p>First get number of PGs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ceph osd pool get replicapool pg_num
</pre></div>
</div>
<p>Then double the number of pgs (for example from 300 to 600):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ceph osd pool <span class="nb">set</span> replicapool pg_num <span class="m">600</span>
ceph osd pool <span class="nb">set</span> replicapool pgp_num <span class="m">600</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="id1">
<h4>Minio<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The Minio cluster is used as object storage for all components in the platform. Deploy it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
<span class="nb">cd</span> rook/cluster/examples/kubernetes/minio
kubectl create -f operator.yaml
kubectl -n rook-minio-system get pods <span class="c1"># wait for rook-minio-operator pod</span>
kubectl create -f object-store.yaml
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Minio pods will not start if you are using a proxy in your environment. Please check the proxy settings in the <code class="file docutils literal notranslate"><span class="pre">/etc/kubernetes/manifests/kube-apiserver.yaml</span></code>. The <cite>.local,.svc,.nip.io</cite> line should be set to <cite>no_proxy</cite>.</p>
</div>
</div>
<div class="section" id="docker-registry">
<h4>Docker registry<a class="headerlink" href="#docker-registry" title="Permalink to this headline">¶</a></h4>
<p>This Docker registry will be used for all platform components.  We will use helm to set up the registry as shown:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
<span class="nb">cd</span> ai-inferencing/infra
helm install --namespace registry --name registry stable/docker-registry -f registry-values.yaml
</pre></div>
</div>
<p>Verify the registry setup</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">REGISTRY_URL</span><span class="o">=</span><span class="sb">`</span>kubectl get svc -n registry <span class="p">|</span> grep NodePort <span class="p">|</span> awk <span class="s1">&#39;{ print $3; }&#39;</span><span class="sb">`</span>.nip.io:5000
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-the-machine-learning-platform">
<h3>Create the Machine Learning Platform<a class="headerlink" href="#create-the-machine-learning-platform" title="Permalink to this headline">¶</a></h3>
<p>The machine learning platform for this guide is built using the Kubeflow Toolkit from which we use the Seldon-core and Istio components.</p>
<ol class="arabic">
<li><p class="first">Prepare the definition files</p>
<p>First we will get the configuration file for Istio</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
wget https://raw.githubusercontent.com/kubeflow/kubeflow/v0.6.1/bootstrap/config/kfctl_k8s_istio.yaml
sed -i <span class="s1">&#39;s/master.tar.gz/v0.6.1.tar.gz/g&#39;</span> kfctl_k8s_istio.yaml
kfctl init kubeflow --config<span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/kfctl_k8s_istio.yaml -V
<span class="nb">cd</span> kubeflow
kfctl generate all -V
</pre></div>
</div>
</li>
<li><p class="first">Edit <code class="file docutils literal notranslate"><span class="pre">kustomize/seldon-core-operator/base/statefulset.yaml</span></code> to change the version to <cite>0.3.2-SNAPSHOT</cite>.</p>
</li>
<li><p class="first">Edit <code class="file docutils literal notranslate"><span class="pre">kustomize/istio-install/base/istio-noauth.yaml</span></code> to change limits for the istio-pilot deployment as shown:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resources</span><span class="p">:</span>
  <span class="nt">limits</span><span class="p">:</span>
    <span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000m</span>
    <span class="nt">memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000Mi</span>
</pre></div>
</div>
<p>This will correct a performance issue which results in istio-pilot causing crashes with multiple Seldon deployments start simultaneously.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If istio cannot start because of an OOM (Out of Memory) error, change the limits of all istio-system deployments.  The Default settings should be enough for a small cluster (32GB RAM and less).</p>
</div>
</li>
<li><p class="first">Install the Kubeflow components and wait for all pods in the Kubeflow and istio-system namespace to start.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kfctl apply all -V
</pre></div>
</div>
</li>
<li><p class="first">Run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl label namespace kubeflow istio-injection<span class="o">=</span>enabled

kubectl apply -f - <span class="s">&lt;&lt;EOF</span>
<span class="s">apiVersion: &quot;rbac.istio.io/v1alpha1&quot;</span>
<span class="s">kind: ClusterRbacConfig</span>
<span class="s">metadata:</span>
<span class="s">  name: default</span>
<span class="s">spec:</span>
<span class="s">  mode: &#39;OFF&#39;</span>
<span class="s">EOF</span>

kubectl delete meshpolicy default
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="getting-models">
<h3>Getting Models<a class="headerlink" href="#getting-models" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Download models from the Public Google Storage Bucket:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
mkdir -p models/resnet50/1
gsutil cp gs://intelai_public_models/resnet_50_i8/1/resnet_50_i8.bin models/resnet50/1/
gsutil cp gs://intelai_public_models/resnet_50_i8/1/resnet_50_i8.xml models/resnet50/1/
mv models/resnet50/1/resnet_50_i8.bin models/resnet50/1/model.bin
mv models/resnet50/1/resnet_50_i8.xml models/resnet50/1/model.xml
</pre></div>
</div>
</li>
<li><p class="first">Upload models to Minio</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">MINIO_URL</span><span class="o">=</span>http://<span class="sb">`</span>kubectl get svc --all-namespaces <span class="p">|</span> grep minio <span class="p">|</span> grep NodePort <span class="p">|</span> awk <span class="s1">&#39;{ print $4; }&#39;</span><span class="sb">`</span>:9000
mc config host add minio <span class="nv">$MINIO_URL</span> TEMP_DEMO_ACCESS_KEY TEMP_DEMO_SECRET_KEY --api S3v4
mc mb minio/models
mc cp --recursive models/* minio/models
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="transformer-image">
<h3>Transformer Image<a class="headerlink" href="#transformer-image" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Build the transformer image:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
<span class="nv">REGISTRY_URL</span><span class="o">=</span><span class="sb">`</span>kubectl get svc -n registry <span class="p">|</span> grep NodePort <span class="p">|</span> awk <span class="s1">&#39;{ print $3; }&#39;</span><span class="sb">`</span>.nip.io:5000
s2i build -E ai-inferencing/infra/s2i-transformer/environment_grpc ai-inferencing/infra/s2i-transformer docker.io/seldonio/seldon-core-s2i-openvino:0.1 <span class="nv">$REGISTRY_URL</span>/imagenet_transformer:0.1 --network<span class="o">=</span>host
</pre></div>
</div>
</li>
<li><p class="first">Reset docker on all workers:</p>
<p>The local Docker registry should be set as an insecure registry.  On all workers, edit the <code class="file docutils literal notranslate"><span class="pre">/etc/docker/daemon.json</span></code> file to set these lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">systemctl daemon-reload</span>
<span class="go">systemctl restart-docker</span>
</pre></div>
</div>
</li>
<li><p class="first">Push the image to the registry:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker push <span class="nv">$REGISTRY_URL</span>/imagenet_transformer:0.1
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are working behind a proxy in your network, use the <cite>no-proxy</cite> settings shown above.</p>
</div>
</div>
<div class="section" id="openvino-model-server-images">
<h3>OpenVINO Model Server Images<a class="headerlink" href="#openvino-model-server-images" title="Permalink to this headline">¶</a></h3>
<p>There are a few OVMS images that could be used, but each of them have a different path to be used in a Seldon deployment, as seen in this table.</p>
<table border="1" class="colwidths-given docutils" id="id5">
<caption><span class="caption-text"><strong>Table 2. Seldon server script path</strong></span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Docker Image name</th>
<th class="head">Command</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>intelaipg/openvino-model-server:latest</td>
<td>- /ie-serving-py/start_server.sh</td>
</tr>
<tr class="row-odd"><td>clearlinux/stacks-dlrs-mkl:v0.4.0</td>
<td>- /workspace/scripts/serve.sh</td>
</tr>
</tbody>
</table>
<div class="section" id="dlrs-images">
<h4>DLRS Images<a class="headerlink" href="#dlrs-images" title="Permalink to this headline">¶</a></h4>
<p>There is a Clear Linux OS based image with the OpenVINO Model Server in DLRS v0.4.0, but there is a known issue which prevents running successfully. The workaround until this issue is resolved is to prepare a modified version of the DLRS container.</p>
<ol class="arabic">
<li><p class="first">Create a new Dockerfile</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat  <span class="s">&lt;&lt;EOF &gt; Dockerfile</span>
<span class="s">FROM clearlinux/stacks-dlrs-mkl:v0.4.0</span>
<span class="s">COPY serve.sh /workspace/scripts/serve.sh</span>
<span class="s">EOF</span>
</pre></div>
</div>
</li>
<li><p class="first">Create the <code class="file docutils literal notranslate"><span class="pre">serve.sh</span></code> file</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat  <span class="s">&lt;&lt;EOF &gt; serve.sh</span>
<span class="s">#!/bin/bash</span>
<span class="s"># temporary workaround</span>
<span class="s">PY_PATH=&quot;/usr/local/lib/openvino/inference_engine/:/usr/local/lib&quot;</span>
<span class="s">echo &quot;export PYTHONPATH=\${PY_PATH}&quot; &gt;&gt;/.bashrc</span>
<span class="s">source ~/.bashrc</span>

<span class="s"># start the model server</span>
<span class="s">cd /ie_serving_py</span>
<span class="s">exec &quot;\$@&quot;</span>
<span class="s">EOF</span>
</pre></div>
</div>
</li>
<li><p class="first">Make <code class="file docutils literal notranslate"><span class="pre">serve.sh</span></code> executable</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod +x serve.sh
</pre></div>
</div>
</li>
<li><p class="first">Build the new docker image</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">REGISTRY_URL</span><span class="o">=</span><span class="sb">`</span>kubectl get svc -n registry <span class="p">|</span> grep NodePort <span class="p">|</span> awk <span class="s1">&#39;{ print $3; }&#39;</span><span class="sb">`</span>.nip.io:5000
sudo docker build -t <span class="si">${</span><span class="nv">REGISTRY_URL</span><span class="si">}</span>/dlrs-mkl-fixed:v0.4.0 .
</pre></div>
</div>
</li>
<li><p class="first">Upload the image to the registry</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo docker push <span class="si">${</span><span class="nv">REGISTRY_URL</span><span class="si">}</span>/dlrs-mkl-fixed:v0.4.0
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="deploy-using-helm-with-seldon">
<h3>Deploy Using Helm with Seldon<a class="headerlink" href="#deploy-using-helm-with-seldon" title="Permalink to this headline">¶</a></h3>
<p>At this point you are ready to go.  Use the Helm chart with Seldon for deployment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>helm install <span class="se">\</span>
--namespace kubeflow <span class="se">\</span>
--name seldonovms-server-res <span class="se">\</span>
--set transformer.image<span class="o">=</span><span class="nv">$REGISTRY_URL</span>/imagenet_transformer:0.1 <span class="se">\</span>
--set openvino.image<span class="o">=</span><span class="nv">$REGISTRY_URL</span>/dlrs-mkl-fixed:v0.4.0 <span class="se">\</span>
ai-inferencing/seldon
</pre></div>
</div>
<p>Verify that all pods are in the <cite>Running</cite> state:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl -n kubeflow get pods -l <span class="nv">version</span><span class="o">=</span>openvino
</pre></div>
</div>
<p>You have now created the inference infrastructure!</p>
</div>
<div class="section" id="secure-communication">
<h3>Secure Communication<a class="headerlink" href="#secure-communication" title="Permalink to this headline">¶</a></h3>
<p>You can optionally set up secure communication between the clients and the server.  This is not required for completing this guide, but we will walk through it for completeness.</p>
<p>For this example we will use <cite>10.0.0.1.nip.io</cite> for our domain name.</p>
<ol class="arabic">
<li><p class="first">Clone the repository</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/nicholasjackson/mtls-go-example
</pre></div>
</div>
</li>
<li><p class="first">Generate the certificates.</p>
<p>This script will generate four directories: 1_root, 2_intermediate, 3_application, and 4_client containing the client and server certificates that will be used in the following procedures. When prompted, select <cite>y</cite> for all questions.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> mtls-go-example
./generate.sh <span class="m">10</span>.0.0.1.nip.io password
mkdir <span class="m">10</span>.0.0.1.nip.io <span class="o">&amp;&amp;</span> mv 1_root 2_intermediate 3_application 4_client <span class="m">10</span>.0.0.1.nip.io
</pre></div>
</div>
</li>
<li><p class="first">Create a Kubernetes secret to hold the server’s certificate and private key.</p>
<p>We’ll use <strong class="command">kubectl</strong> to create the  secret istio-ingressgateway-certs in namespace istio-system. The Istio gateway will load the secret automatically.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl create -n istio-system secret tls istio-ingressgateway-certs --key <span class="m">10</span>.0.0.1.nip.io/3_application/private/10.0.0.1.nip.io.key.pem --cert <span class="m">10</span>.0.0.1.nip.io/3_application/certs/10.0.0.1.nip.io.cert.pem
</pre></div>
</div>
</li>
<li><p class="first">Verify that <code class="file docutils literal notranslate"><span class="pre">tls.crt</span></code> and <code class="file docutils literal notranslate"><span class="pre">tls.key</span></code> have been mounted in the ingress gateway pod</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl <span class="nb">exec</span> -it -n istio-system <span class="k">$(</span>kubectl -n istio-system get pods -l <span class="nv">istio</span><span class="o">=</span>ingressgateway -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].metadata.name}&#39;</span><span class="k">)</span> -- ls -al /etc/istio/ingressgateway-certs
</pre></div>
</div>
</li>
<li><p class="first">Edit the default kubeflow gateway</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl apply -f - <span class="s">&lt;&lt;EOF</span>
<span class="s">apiVersion: networking.istio.io/v1alpha3</span>
<span class="s">kind: Gateway</span>
<span class="s">metadata:</span>
<span class="s">  name: kubeflow-gateway</span>
<span class="s">  namespace: kubeflow</span>
<span class="s">spec:</span>
<span class="s">  selector:</span>
<span class="s">    istio: ingressgateway</span>
<span class="s">  servers:</span>
<span class="s">  - hosts:</span>
<span class="s">    - &#39;*&#39;</span>
<span class="s">    port:</span>
<span class="s">      name: http</span>
<span class="s">      number: 80</span>
<span class="s">      protocol: HTTP</span>
<span class="s">  - hosts:</span>
<span class="s">    - &#39;*&#39;</span>
<span class="s">    port:</span>
<span class="s">      name: https</span>
<span class="s">      number: 443</span>
<span class="s">      protocol: HTTPS</span>
<span class="s">    tls:</span>
<span class="s">      mode: SIMPLE</span>
<span class="s">      privateKey: /etc/istio/ingressgateway-certs/tls.key</span>
<span class="s">      serverCertificate: /etc/istio/ingressgateway-certs/tls.crt</span>
<span class="s">EOF</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="seldon-autoscaling">
<h3>Seldon autoscaling<a class="headerlink" href="#seldon-autoscaling" title="Permalink to this headline">¶</a></h3>
<p>The <code class="file docutils literal notranslate"><span class="pre">ai-inferencing/seldon/templates/deployment.yaml</span></code> file includes options for horizontal pod auto-scaling (HPA) in the Seldon deployment.</p>
<p>Auto-scaling automatically increases the number of replicas when resource usage exceeds the given threshold, whic is currently set to 30% CPU utilization. As well, when utilization is low, it decreases the number of instances for efficiency.</p>
<p>Set resource requests in all containers to to enable HPA.  The metrics-server will measure if the targetAverageUtilization has been exceeded.</p>
<div class="section" id="metrics-server">
<h4>Metrics server<a class="headerlink" href="#metrics-server" title="Permalink to this headline">¶</a></h4>
<p>By default, HPA needs access to the metrics.k8s.io API which is provided by the metrics-server. It can be launched as a cluster addon:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$DEPLOY_DIR</span>
<span class="nb">cd</span> ai-inferencing/infra
helm install --namespace kube-system --name metricsserver -f metrics-server-values.yaml stable/metrics-server
</pre></div>
</div>
</div>
<div class="section" id="enable-hpa">
<h4>Enable HPA<a class="headerlink" href="#enable-hpa" title="Permalink to this headline">¶</a></h4>
<p>Upgrade Helm  to enable HPA</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>helm upgrade <span class="se">\</span>
--install <span class="se">\</span>
seldonovms-server-res <span class="se">\</span>
--namespace kubeflow <span class="se">\</span>
--set transformer.image<span class="o">=</span><span class="nv">$REGISTRY_URL</span>/imagenet_transformer:0.1 <span class="se">\</span>
--set openvino.image<span class="o">=</span><span class="nv">$REGISTRY_URL</span>/dlrs-mkl-fixed:v0.4.0 <span class="se">\</span>
--set seldon.resource_limiting<span class="o">=</span><span class="m">1</span> <span class="se">\</span>
--set seldon.average_utilization<span class="o">=</span><span class="m">50</span> <span class="se">\</span>
--set seldon.hpa_enabled<span class="o">=</span><span class="m">1</span> <span class="se">\</span>
ai-inferencing/seldon
</pre></div>
</div>
<p>In this example:</p>
<p>seldon.resource_limiting=1 - required for HPA
seldon.average_utilization - target utilization of pods (values between 50-100% is recommended)
seldon.hpa_enabled=1 - enable Horizontal Pod Autoscaler</p>
</div>
</div>
</div>
<div class="section" id="benchmarking">
<h2><a class="toc-backref" href="#id9">Benchmarking</a><a class="headerlink" href="#benchmarking" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Prerequisites<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To run the following examples, you need:</p>
<ul class="simple">
<li>Clone the github repository with all scripts</li>
<li>Complete the inference evironment setup shown above</li>
<li>Use Python v3.6</li>
</ul>
<div class="section" id="setting-the-ingress-address">
<h4>Setting the INGRESS_ADDRESS<a class="headerlink" href="#setting-the-ingress-address" title="Permalink to this headline">¶</a></h4>
<p>The <cite>INGRESS_ADDRESS</cite> environment variable is used in the following examples in this guide and should be set with the server IP or domain name and port where Istio is exposed. Here, 10.0.0.1.nip.io will be used as a domain name.</p>
<p>The default nodePort exposed by Istio is 31380. It may be checked on the server with this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl -n istio-system get service istio-ingressgateway -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.spec.ports[?(@.name==&quot;http2&quot;)].nodePort}&#39;</span>
</pre></div>
</div>
<p>Set the INGRESS_ADDRESS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">INGRESS_ADDRESS</span><span class="o">=</span><span class="m">10</span>.0.0.1.nip.io:31380
</pre></div>
</div>
</div>
</div>
<div class="section" id="standalone-client">
<h3>Standalone Client<a class="headerlink" href="#standalone-client" title="Permalink to this headline">¶</a></h3>
<p>The <code class="file docutils literal notranslate"><span class="pre">standalone</span> <span class="pre">clients</span></code> script is the simplest and the fastest way to run benchmarks. This python script creates multiple clients to generate the requests sending jpeg files for inference and returns the throughput and latency numbers.
The script allows you to run a benchmark using just a few dependencies, which are listed in the <cite>ai-inferencing/clients/standalone/requirements.txt</cite> file.</p>
<p>Install the dependencies, start from the ai-inferencing directory and run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3.6 install -f ./clients/standalone/requirements.txt
</pre></div>
</div>
<p>To make sure that clients are not affecting Seldon performance
the script should be run on a different machine than the inference itself.</p>
<div class="section" id="verification">
<h4>Verification<a class="headerlink" href="#verification" title="Permalink to this headline">¶</a></h4>
<p>To verify the script is working, verify with a small images set as follows:</p>
<ol class="arabic">
<li><p class="first">Download the basic images set</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ai-inferencing/clients/standalone
wget https://github.com/SeldonIO/seldon-core/raw/master/examples/models/openvino_imagenet_ensemble/<span class="o">{</span>imagenet_classes.json,input_images.txt,dog.jpeg,pelican.jpeg,zebra.jpeg<span class="o">}</span><span class="sb">`</span>.
</pre></div>
</div>
</li>
<li><p class="first">Run the script</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3.6 seldon_grpc_client.py --ingress <span class="si">${</span><span class="nv">INGRESS_ADDRESS</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Output</p>
<p>The output from the script will be similar to:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">total: 0.213 seconds, throughput 14.07 imgs/s</span>
<span class="go">53.244</span>
<span class="go">94.234</span>
<span class="go">52.158</span>
</pre></div>
</div>
<p>The output shows:
* total time that test lasted (time from the first client start to the end of the last client request)
* throughput, calculated as <cite>number of requests / total test time</cite>
* every single line, except the first line described above, contains latencies of all requests done by all clients</p>
</li>
</ol>
</div>
<div class="section" id="optional-parameters">
<h4>Optional parameters<a class="headerlink" href="#optional-parameters" title="Permalink to this headline">¶</a></h4>
<p>Common:</p>
<ul class="simple">
<li><cite>–clients-number [INT]</cite> - how many parallel instances of the single client should be spawned</li>
<li><cite>–repeats [INT]</cite> - how many times the script should repeat the test</li>
<li><cite>–warmup [INT]</cite> - how many repeats of tests should be done before starting time measuring</li>
<li><cite>–debug [true/false]</cite> - used to enable additional logging</li>
</ul>
<p>Seldon communication settings:</p>
<ul class="simple">
<li><cite>–ingress</cite> - IP and port where Kubernetes ingress is serving, e.g. <cite>10.54.8.228:31380</cite></li>
<li><cite>–deployment</cite> - the name of the Seldon helm deployment a.k.a. ingress service name,
i.e. <cite>seldonovms-server-res</cite></li>
<li><cite>–namespace</cite> - namespace in which Seldon is deployed, i.e. <cite>kubeflow</cite></li>
</ul>
<p>Security:</p>
<ul>
<li><p class="first"><cite>–certs-file</cite> - certificate file used for requests, setting this option turns on secure communication,</p>
<p>NOTE: when using SSL, it is necessary to use a domain name, so if it is set IP in ingress address,
make sure to add <cite>.nip.io</cite> suffix after IP, e.g. <cite>10.54.8.228.nip.io:31380</cite></p>
</li>
</ul>
<p>Custom images set:</p>
<ul class="simple">
<li><cite>–input-images-list</cite> - path to file containing the list of images with classification, e.g. <cite>input_images.txt</cite></li>
<li><cite>–classes-file</cite> - file with the classes dictionary, e.g. <cite>imagenet_classes.json</cite></li>
<li><cite>–input-base-path</cite> - path to directory where images mentioned in <cite>input-images-list</cite> are stored,
e.g. <cite>/path/to/imagenet/directory</cite></li>
<li><cite>–images-limit [INT]</cite> - as images set can contain high number of images,
using this parameter user can set max number of images uploaded in single repeat of the test.</li>
</ul>
</div>
</div>
<div class="section" id="locust">
<h3>Locust<a class="headerlink" href="#locust" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://locust.io">Locust.io</a> is a performance testing tool that allows us to use a Python script that is executed by simulating multiple users. For our example, Docker and Kubernetes are used for the Locust client deployment. The Locust Python client sends inference requests to the test platform based on the ResNet50 model.  A separate Kubernetes cluster is recommended for the client deployment, so as to avoid interfering with the cluster containing the inferencing engine.</p>
<p>This example can be used to model a more “natural” user behavior.  The load is not steady, and can be distributed.  Follow these steps to set up.</p>
<ol class="arabic">
<li><p class="first">From the <code class="file docutils literal notranslate"><span class="pre">ai-inferencing/clients/locust/docker</span></code> directory set the following environment variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">REGISTRY_URL</span><span class="o">=</span>&lt;DOCKER REGISTRY URL&gt;
<span class="nb">export</span> <span class="nv">INGRESS_ADDRESS</span><span class="o">=</span>&lt;ISTIO URL&gt;
</pre></div>
</div>
</li>
<li><p class="first">Build the Docker image:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker build -t <span class="si">${</span><span class="nv">REGISTRY_URL</span><span class="si">}</span>/seldon-ovms-locust-client:0.1 --network<span class="o">=</span>host .
</pre></div>
</div>
</li>
<li><p class="first">Push the image to the Docker registry</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker push <span class="si">${</span><span class="nv">REGISTRY_URL</span><span class="si">}</span>/seldon-ovms-locust-client:0.1
</pre></div>
</div>
</li>
<li><p class="first">Change to the <code class="file docutils literal notranslate"><span class="pre">ai-inferencing/clients/locust/helm</span></code> directory and modify the number of Lucust slave nodes by editing the <code class="file docutils literal notranslate"><span class="pre">values.yaml</span></code> file. Change <cite>slaves_replicas</cite> to the desired number of slave nodes.</p>
</li>
<li><p class="first">Run Locust, modifying this command as your environment requires:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>helm helm install --name locust --namespace kubeflow
--set client.image<span class="o">=</span><span class="si">${</span><span class="nv">REGISTRY_URL</span><span class="si">}</span>/seldon-ovms-locust-client:0.1
--set client.ingress<span class="o">=</span><span class="si">${</span><span class="nv">INGRESS_ADDRESS</span><span class="si">}</span>
--set client.mount_images_volume.enabled<span class="o">=</span><span class="nb">false</span>
--set client.images_path<span class="o">=</span>./
../helm
</pre></div>
</div>
<p>Values can be adjusted in the helm command using <cite>–set</cite> as shown in this sample command.  Note that <cite>.nip.io</cite> may be necessary when using ingress.</p>
</li>
<li><p class="first">Find the UI port in the output from the helm command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NAME           TYPE       CLUSTER-IP      EXTERNAL-IP  PORT(S)            AGE</span>
<span class="go">locust         NodePort   10.110.167.232  &lt;none&gt;       8089:XXXXX/TCP     0s</span>
<span class="go">locust-master  ClusterIP  10.107.78.16    &lt;none&gt;       5557/TCP,5558/TCP  0s</span>
</pre></div>
</div>
</li>
<li><p class="first">On the system running the Kubernetes cluster, open a browser and go to <cite>localhost:XXXXX</cite> where <cite>XXXXX</cite> is the port found above.</p>
</li>
<li><p class="first">Run tests using the UI.</p>
<ul>
<li><p class="first">In the Locust’s landing page you will see 2 fields - Number of users to simulate and Hatch rate. Fill them and press “start swarming”</p>
</li>
<li><p class="first">Locust should start the test. You can track the number of requests and fails in the “statistics” tab.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../_images/Locust_statistics.png"><img alt="Locust statistics" src="../../_images/Locust_statistics.png" style="width: 600px;" /></a>
</div>
</li>
<li><p class="first">In the “Failures” section you should see the type of errors - there should be only classified errors while running the test. This means that the sent image was classified incorrectly. That’s normal behavior - we expect &lt;100% accuracy for this model.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../_images/Locust_failures.png"><img alt="Locust failures" src="../../_images/Locust_failures.png" style="width: 600px;" /></a>
</div>
</li>
<li><p class="first">You can see some simple charts in the “charts” tab. In “Response Times (ms)” chart, the green line is “Median Response Time”, yellow line is “95% percentile”.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../_images/Locust_charts.png"><img alt="Locust charts" src="../../_images/Locust_charts.png" style="width: 600px;" /></a>
</div>
</li>
<li><p class="first">In the Exceptions tab, there might be some exceptions shown. This might happen when tested environments reach their response limit and some requests start to fail.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../_images/Locust_exception.png"><img alt="Locust exception" src="../../_images/Locust_exception.png" style="width: 600px;" /></a>
</div>
</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="performance-tuning">
<h3>Performance Tuning<a class="headerlink" href="#performance-tuning" title="Permalink to this headline">¶</a></h3>
<p>If you need to maximize the usage of available resources,
it is worth to adjust the threading parameters of inference serving instances. It is not enough to set the OMP_NUM_THREADS environment parameter which defines the number of threads used for inference on the CPU. In this case, the instances will scale across the nodes, but won’t scale properly across the available cores on one node. Using the <strong class="command">numactl</strong> program is the solution in this case. <strong class="command">numactl</strong> allows you to run the instance on defined cores and uses memory from the same socket.</p>
<p>To find out how to assign the cores and memory properly run <strong class="command">numactl -H</strong> which will produce output like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">available: 2 nodes (0-1)</span>
<span class="go">node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</span>
<span class="go">node 0 size: 195279 MB</span>
<span class="go">node 0 free: 128270 MB</span>
<span class="go">node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47</span>
<span class="go">node 1 size: 196608 MB</span>
<span class="go">node 1 free: 119445 MB</span>
<span class="go">node distances:</span>
<span class="go">node   0   1</span>
<span class="go">  0:  10  21</span>
<span class="go">  1:  21  10</span>
</pre></div>
</div>
<p>In this case, the tests are run on Intel(R) Xeon(R) Platinum 6260L with 2 sockets(nodes) and 24 cores (CPUs) on each socket.
Running the inference serving the application with <strong class="command">numactl --membind=0 --cpubind=0-3</strong> forces the system to use 0,1,2,3 cores and memory located on the same socket (0). To use all available cores there is a need to create more service deployments assigned to the remaining cores.</p>
<p>The <cite>ai-inferencing</cite> repository contains an example deployment script with 2 cores per instance assignment.</p>
</div>
<div class="section" id="automatic-cpu-and-memory-binds-in-seldon-deployment">
<h3>Automatic CPU and memory binds in Seldon deployment<a class="headerlink" href="#automatic-cpu-and-memory-binds-in-seldon-deployment" title="Permalink to this headline">¶</a></h3>
<p>The Seldon deployment works by default using one deployment only, that is, only one Seldon deployment should be spawned on one cluster node. When there is only one instance of the deployment, it is not necessary to use <strong class="command">numactl</strong> as all resources can be used by this single deployment.</p>
<p>In most cases that is far too many resources being used, so this setting is not optimal. Instead, use a mechanism that allows creating more than one deployment per node, and equally spliting CPU and memory banks resources between them, using <strong class="command">numactl</strong>.</p>
<p>First, it is necessary to set the following Helm values in the <code class="file docutils literal notranslate"><span class="pre">ai-inferencing/seldon/values.yaml</span></code> file:</p>
<ul class="simple">
<li><cite>instances</cite> is a number describing how many Seldon deployments and  different resources ranges should be prepared (each CPU bind range would be used by only single one deployment) to be used by <code class="file docutils literal notranslate"><span class="pre">numactl</span></code> on a single socket. When this variable is set to 1, <code class="file docutils literal notranslate"><span class="pre">numactl</span></code> is not used.</li>
<li><cite>cpus</cite> should be set to the number of physical CPUs on a single node (without HyperThreading)</li>
<li><cite>sockets</cite> should be equal to the number of sockets on a single node and to memory banks number</li>
</ul>
</div>
<div class="section" id="run-the-benchmark">
<h3>Run the benchmark<a class="headerlink" href="#run-the-benchmark" title="Permalink to this headline">¶</a></h3>
<p>There are 2 scripts prepared to automate finding the best configuration
by customizing  the number of clients and Seldon instances.</p>
<ol class="arabic">
<li><p class="first"><code class="file docutils literal notranslate"><span class="pre">clients/standalone/scale.sh</span></code></p>
<p>This is a script created to automatically scale and adjust Seldon instances to the selected configuration (2 or 24 cores per instance).</p>
<p>It takes the following arguments:
* the number, how many replicas (pods) each Seldon deployment should contain, this number should be equal to the number of the nodes in the cluster
* the number, how many deployments should be created (each node would divide resources between deployments)</p>
<p>This script is called by <code class="file docutils literal notranslate"><span class="pre">clients/standalone/benchmark.sh</span></code> script.</p>
</li>
<li><p class="first"><code class="file docutils literal notranslate"><span class="pre">clients/standalone/benchmark.sh</span></code></p>
<p>This script is used to run benchmarks with selected configuration.
There are 3 benchmark options to set:</p>
<ul class="simple">
<li>number of <cite>nodes</cite> - how many nodes are in the cluster, this will scale Seldon deployments, to have one pod replica for each resource slice on each node.</li>
<li>list of <cite>instances</cite> values - how many Seldon instances would be started for a particular benchmark</li>
<li>list of <cite>clients</cite> values - it represents the number of clients to be used in particular benchmark</li>
</ul>
<p>It is necessary to customize the file itself to use the selected setup, setting environment variables mentioned below:</p>
<ul class="simple">
<li><cite>SSH_PASSWORD</cite> - password to Kubernetes master host</li>
<li><cite>SSH_USER</cite> - user to be used to connect Kubernetes master host</li>
<li><cite>SSH_IP</cite> - IP of the Kubernetes master host</li>
<li><cite>SCALE_FILE_PATH</cite> - path to downloaded this repository on the Kubernetes master host, for example <code class="file docutils literal notranslate"><span class="pre">/path/to/this/repository/clients/standalone</span></code></li>
<li><cite>INGRESS_ADDRESS</cite> - server IP or domain name and port where Istio is exposed</li>
</ul>
<p>ssh settings should be set to Kubernetes master host where kubectl is usable.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before starting <code class="file docutils literal notranslate"><span class="pre">benchmark.sh</span></code> script, make sure all standalone client requirements are fulfilled, including installed python requirements and downloaded small sample images set if it is used.</p>
</div>
<p>The output from this file is shown on stdout and saved to file named
<code class="file docutils literal notranslate"><span class="pre">log_n&lt;#</span> <span class="pre">nodes&gt;_i&lt;#</span> <span class="pre">instances</span> <span class="pre">per</span> <span class="pre">node&gt;_c&lt;#</span> <span class="pre">clients&gt;_&lt;date&gt;.txt</span></code>.</p>
<p>The simplest way to monitor the cores usage is to run <cite>htop</cite> program on each tested node.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../_images/htop.png"><img alt="htop output" src="../../_images/htop.png" style="width: 600px;" /></a>
</div>
</div>
<div class="section" id="results">
<h3>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h3>
<p>The test performed on a 2 node cluster with 48 cores per node showed that there are 2 optimal scenarios:</p>
<ol class="arabic">
<li><p class="first">Low latency
2 instances with 24 cores per instance on each node (4 instances on 2 nodes):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1 (Node 1, socket 0): &#39;numactl --membind=0 --cpubind=0-23</span>
<span class="go">2 (Node 1, socket 1): &#39;numactl --membind=1 --cpubind=24-46</span>
<span class="go">3 (Node 2, socket 0): &#39;numactl --membind=0 --cpubind=0-23</span>
<span class="go">4 (Node 2, socket 1): &#39;numactl --membind=1 --cpubind=46-47</span>
</pre></div>
</div>
<p>Inference engine configuration for this case</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">OMP_NUM_THREADS=24</span>
<span class="go">KMP_SETTINGS=1</span>
<span class="go">KMP_AFFINITY=granularity=fine,verbose,compact,1,0</span>
<span class="go">KMP_BLOCKTIME=1</span>
</pre></div>
</div>
</li>
<li><p class="first">High throughput</p>
<p>24 instances with 2 cores per instance on each node (48 instances on 2 nodes):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1 (Node 1, socket 0): &#39;numactl --membind=0 --cpubind=0-1</span>
<span class="go">2 (Node 1, socket 0): &#39;numactl --membind=0 --cpubind=2-3</span>
<span class="go">...</span>
<span class="go">48 (Node 2, socket 1): &#39;numactl --membind=1 --cpubind=46-47</span>
</pre></div>
</div>
<p>Inference engine configuration:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">OMP_NUM_THREADS=2</span>
<span class="go">KMP_SETTINGS=1</span>
<span class="go">KMP_AFFINITY=granularity=fine,verbose,compact,1,0</span>
<span class="go">KMP_BLOCKTIME=1</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020.
      <span class="lastupdated">
        Last updated on Apr 10, 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>

<div id="trademarks">
  <p>*Other names and brands may be claimed as the property of others.</p>
  <ul class="footer__menu_list">
    <li class="footer__menu_list"><a href="https://www.intel.com/content/www/us/en/legal/trademarks.html">*Trademarks</a></li>
    <li class="footer__menu_list"><a href="https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html">Cookies</a></li>
    <li class="footer__menu_list"><a href="https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy Terms</a></li>
</div>


      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  

<script type="text/javascript" src="../../_static/tcs_theme.js"></script>



</body>
</html>